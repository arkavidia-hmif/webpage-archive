(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{450:function(t,e,n){},451:function(t,e,n){},453:function(t,e,n){"use strict";var r=n(14),o=n(18),l=n(17),c=n(16),m=n(19),d=n(24),f=n(72),v=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},h=function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(l.a)(this,Object(c.a)(e).apply(this,arguments))).detailsOpened=!1,t}return Object(m.a)(e,t),Object(o.a)(e,[{key:"alertMessage",get:function(){return this.messageTuple?this.messageTuple.message:this.message}},{key:"alertDetails",get:function(){return this.messageTuple?this.messageTuple.details:this.details}}]),e}(f.Vue);v([Object(f.Prop)()],h.prototype,"type",void 0),v([Object(f.Prop)()],h.prototype,"message",void 0),v([Object(f.Prop)({default:void 0})],h.prototype,"messageTuple",void 0),v([Object(f.Prop)({default:""})],h.prototype,"details",void 0),v([Object(f.Prop)({default:!0})],h.prototype,"dismissible",void 0);var _=h=v([Object(f.Component)({name:"Alert"})],h),y=(n(455),n(20)),O=n(23),j=n.n(O),C=n(478),component=Object(y.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-alert",{attrs:{type:t.type,dismissible:t.dismissible}},[n("a",{staticClass:"white--text",staticStyle:{"text-decoration":"none"},on:{click:function(e){e.preventDefault(),t.detailsOpened=!t.detailsOpened}}},[t._v(t._s(t.alertMessage))])]),t._v(" "),t.detailsOpened&&t.alertDetails?n("pre",{staticClass:"pa-2 grey lighten-3",staticStyle:{border:"1px solid #ccc"}},[t._v(t._s(t.alertDetails))]):t._e()],1)}),[],!1,null,"f1ace322",null);e.a=component.exports;j()(component,{VAlert:C.a})},455:function(t,e,n){"use strict";var r=n(450);n.n(r).a},459:function(t,e,n){"use strict";var r=n(14),o=n(17),l=n(16),c=n(19),m=n(24),d=n(72),f=n(75),v=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},h=function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(o.a)(this,Object(l.a)(e).apply(this,arguments))).dashboardMenus=f.b,t}return Object(c.a)(e,t),e}(d.Vue);v([Object(d.Getter)("user/isLoggedIn")],h.prototype,"loggedIn",void 0),v([Object(d.State)("user")],h.prototype,"authState",void 0);var _=h=v([Object(d.Component)({name:"DashboardWrapper"})],h),y=(n(461),n(20)),O=n(23),j=n.n(O),C=n(440),x=n(431),T=n(625),k=n(662),component=Object(y.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loggedIn&&t.authState.user?n("v-container",{staticClass:"mt-12"},[n("div",{staticClass:"headline font-weight-bold mt-12",staticStyle:{color:"black"}},[t._v("\n      Dashboard\n    ")]),t._v(" "),n("div",{staticClass:"display-1 font-weight-bold mt-2 mb-5",staticStyle:{color:"#0B909A"}},[t._v("\n      Halo, "+t._s(t.authState.user.fullName)+"!\n    ")]),t._v(" "),n("v-tabs",{staticClass:"noprevpadding",attrs:{"slider-color":"#E44D4B","slider-size":"5"}},t._l(t.dashboardMenus,(function(e,i){return n("v-tab",{key:i,staticClass:"font-weight-bold black--text sub-title-1 text-none",attrs:{to:e.route,disabled:e.disabled||!1}},[t._v("\n        "+t._s(e.title)+"\n      ")])})),1),t._v(" "),n("v-divider"),t._v(" "),n("div",[t._t("default")],2)],1):t._e()],1)}),[],!1,null,"0f33ef31",null);e.a=component.exports;j()(component,{VContainer:C.a,VDivider:x.a,VTab:T.a,VTabs:k.a})},461:function(t,e,n){"use strict";var r=n(451);n.n(r).a},481:function(t,e,n){"use strict";var r=n(1).default.extend({name:"TabMenu",props:{slug:{type:String,required:!0},team:{type:Object,required:!1,default:null}},computed:{stages:function(){return null!=this.team&&this.team.stages?this.team.stages:[]}}}),o=n(20),l=n(23),c=n.n(l),m=n(454),d=n(431),f=n(171),v=n(169),h=n(95),_=n(32),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ml-3 mb-5"},[n("v-card",{attrs:{elevation:"3"}},[n("div",{staticClass:"pa-4"},[n("div",{staticClass:"font-weight-bold"},[t._v("\n        "+t._s(t.team.name)+"\n      ")]),t._v(" "),n("div",{staticClass:"grey--text text--darken-2"},[t._v("\n        "+t._s(t.team.competition.name)+"\n      ")])]),t._v(" "),n("v-divider"),t._v(" "),n("v-list",{staticClass:"pt-0"},[n("v-list-item",{attrs:{to:"/dashboard/competition/"+t.slug,exact:""}},[n("v-list-item-title",[n("v-icon",{attrs:{left:""}},[t._v("\n            fas fa-info-circle\n          ")]),t._v("\n          Informasi Tim\n        ")],1)],1),t._v(" "),n("v-list-item",{attrs:{to:"/dashboard/competition/"+t.slug+"/anggota-tim",exact:""}},[n("v-list-item-title",[n("v-icon",{attrs:{left:""}},[t._v("\n            fas fa-user-circle\n          ")]),t._v("\n          Anggota Tim\n        ")],1)],1),t._v(" "),n("v-divider"),t._v(" "),t._l(t.stages,(function(e,i){return[n("v-list-item",{key:i,attrs:{to:e.id===t.team.activeStageId?"/dashboard/competition/"+t.slug+"/action":void 0,exact:"",disabled:e.id!==t.team.activeStageId}},[n("v-list-item-title",[t._v("\n            "+t._s(e.name)+"\n          ")])],1)]}))],2)],1)],1)}),[],!1,null,"d8832d84",null);e.a=component.exports;c()(component,{VCard:m.a,VDivider:d.a,VIcon:f.a,VList:v.a,VListItem:h.a,VListItemTitle:_.b})},486:function(t,e,n){"use strict";n(73),n(6);var r=n(14),o=n(18),l=n(17),c=n(16),m=n(19),d=n(24),f=n(72),v=n(481),h=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},_=function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(l.a)(this,Object(c.a)(e).apply(this,arguments))).teamDetails=null,t.isLoading=!0,t}return Object(m.a)(e,t),Object(o.a)(e,[{key:"mounted",value:function(){var t=this;this.isLoading=!0,this.actionFetchTeamList().then((function(e){var n=e.find((function(e){return!!e.competition&&e.competition.slug===t.competitionSlug}));return n?t.actionFetchTeamDetail(n.id):void 0})).then((function(e){e?t.teamDetails=e:t.$router.push("/dashboard/competition/".concat(t.competitionSlug,"/register-tim"))})).finally((function(){t.isLoading=!1}))}}]),e}(f.Vue);h([Object(f.Prop)({default:""})],_.prototype,"competitionSlug",void 0),h([Object(f.Action)("competition/fetchTeamList")],_.prototype,"actionFetchTeamList",void 0),h([Object(f.Action)("competition/fetchTeamDetail")],_.prototype,"actionFetchTeamDetail",void 0);var y=_=h([Object(f.Component)({name:"CompetitionWrapper",components:{TabMenu:v.a}})],_),O=n(20),j=n(23),C=n.n(j),x=n(439),T=n(440),k=n(168),R=n(441),component=Object(O.a)(y,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",[!this.isLoading&&this.teamDetails?e("v-row",[e("v-col",{attrs:{cols:12,sm:4,lg:3}},[e("TabMenu",{attrs:{slug:this.competitionSlug,team:this.teamDetails}})],1),this._v(" "),e("v-col",{attrs:{cols:12,sm:8,lg:9}},[this._t("default",null,{team:this.teamDetails})],2)],1):e("div",{staticClass:"pa-4",attrs:{align:"center"}},[e("v-progress-circular",{attrs:{indeterminate:""}})],1)],1)}),[],!1,null,"41fff07c",null);e.a=component.exports;C()(component,{VCol:x.a,VContainer:T.a,VProgressCircular:k.a,VRow:R.a})},648:function(t,e,n){"use strict";n.r(e);var r=n(14),o=n(18),l=n(17),c=n(16),m=n(19),d=n(24),f=n(72),v=n(459),h=n(481),base=(n(49),n(50),n(6),n(4)),_=n(21),y=n(453),O=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},j=function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(l.a)(this,Object(c.a)(e).apply(this,arguments))).error="",t.fullName="",t.email="",t.isCreating=!1,t.isDeleting=!1,t.isLoading=!0,t.panel=[],t}return Object(m.a)(e,t),Object(o.a)(e,[{key:"attemptCreateMember",value:function(){var t=this;if(this.fullName)if(this.email)if(this.validateEmail(this.email)){this.isCreating=!0,this.error="";var e=this.teamId,n=this.fullName,r=this.email;this.addMemberAction({teamId:e,fullName:n,email:r}).then((function(){var e=t.nextRoute?t.nextRoute:"/dashboard/competition/"+t.slug+"/anggota-tim";t.$router.push(e)})).catch((function(e){if(e instanceof base.a)return e.errorCode===_.a.REGISTRATION_CLOSED?void(t.error="Pendaftaran kompetisi sudah ditutup"):e.errorCode===_.a.NOT_PARTICIPATING?void(t.error="Tim tidak berpartisipasi"):e.errorCode===_.a.FULL?void(t.error="Tim sudah penuh"):e.errorCode===_.a.ERROR?void(t.error="Tidak dapat menambah anggota tim"):void(t.error=e.message);t.error=e.toString()})).finally((function(){t.isCreating=!1}))}else this.error="Alamat e-mail salah";else this.error="E-mail anggota harus diisi";else this.error="Nama anggota harus diisi"}},{key:"validateEmail",value:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())}},{key:"attemptDelete",value:function(t){var e=this;this.isDeleting=!0,this.error="";var n=this.teamId,r=t;this.removeMemberAction({teamId:n,teamMemberId:r}).then((function(){var t=e.nextRoute?e.nextRoute:"/dashboard/competition/"+e.slug+"/anggota-tim";e.$router.push(t)})).catch((function(t){if(t instanceof base.a)return t.errorCode===_.h.ERROR?void(e.error="Tidak dapat menghapus anggota tim"):void(e.error=t.message);e.error=t.toString()})).finally((function(){e.isDeleting=!1}))}},{key:"slug",get:function(){return this.$route.params.competition}},{key:"teamMembers",get:function(){var t=this.team;return null==t?[]:null==t.teamMembers?[]:t.teamMembers}},{key:"nextRoute",get:function(){return this.$route.query.continue}},{key:"teamId",get:function(){return this.team?this.team.id:0}}]),e}(f.Vue);O([Object(f.Prop)()],j.prototype,"team",void 0),O([Object(f.Action)("competition/addMember")],j.prototype,"addMemberAction",void 0),O([Object(f.Action)("competition/removeMember")],j.prototype,"removeMemberAction",void 0);var C=j=O([Object(f.Component)({components:{Alert:y.a}})],j),x=n(20),T=n(23),k=n.n(T),R=n(478),D=n(429),A=n(439),M=n(507),V=n(508),w=n(509),P=n(510),S=n(171),E=n(545),component=Object(x.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.team?n("div",{staticClass:"ml-3 mb-5"},[n("div",[n("p",{staticStyle:{"font-weight":"700 !important","margin-bottom":"0 !important"}},[t._v("\n      Daftar Anggota\n    ")]),t._v(" "),n("div",{staticClass:"subtitle grey--text text--darken-2"},[t._v("\n      "+t._s(t.team.competition.minTeamMembers===t.team.competition.maxTeamMembers?"Tim terdiri dari tepat "+t.team.competition.minTeamMembers+" orang":"Tim terdiri dari "+t.team.competition.minTeamMembers+" sampai "+t.team.competition.maxTeamMembers+" orang")+"\n    ")]),t._v(" "),t.teamMembers.length<t.team.competition.minTeamMembers?n("v-alert",{staticClass:"my-5",attrs:{type:"warning"}},[t._v("\n      Anggota tim minimal "+t._s(t.team.competition.minTeamMembers)+" orang\n    ")]):t._e(),t._v(" "),0==t.teamMembers.length?n("v-col",{attrs:{cols:"12"}},[n("p",[t._v(" Tidak ada anggota lain yang terdaftar dalam tim ")])]):n("v-col",{staticClass:"pa-0 mt-3",attrs:{cols:"12"}},[n("v-expansion-panels",{staticClass:"ma-0",attrs:{multiple:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},[t._l(t.teamMembers,(function(e,i){return n("v-expansion-panel",{key:i},[n("v-expansion-panel-header",[n("b",[t._v("\n              "+t._s(e.fullName)+"\n              "),e.email===t.team.teamLeaderEmail?n("v-icon",{staticClass:"ml-2",attrs:{small:"",color:"#FFBA07"}},[t._v("fas fa-crown")]):t._e()],1)]),t._v(" "),n("v-expansion-panel-content",[n("div",{staticClass:"subtitle-2 font-weight-black ",staticStyle:{color:"#666666"}},[t._v("\n              Nama Lengkap\n            ")]),t._v(" "),n("div",{staticClass:"subtitle-2 black--text"},[t._v("\n              "+t._s(e.fullName||"Not set")+"\n            ")]),t._v(" "),n("div",{staticClass:"subtitle-2 font-weight-black mt-3",staticStyle:{color:"#666666"}},[t._v("\n              Alamat E-mail\n            ")]),t._v(" "),n("div",{staticClass:"subtitle-2 black--text"},[t._v("\n              "+t._s(e.email||"Not set")+"\n            ")]),t._v(" "),e.email!==t.team.teamLeaderEmail?n("v-btn",{staticClass:"mt-5 subtitle-2 text-none px-5 font-weight-bold",attrs:{color:"#E44D4B",outlined:"",loading:t.isDeleting,disabled:!t.team.competition.isRegistrationOpen},on:{click:function(){return t.attemptDelete(e.id)}}},[t._v("\n              Hapus Anggota\n            ")]):t._e()],1)],1)})),t._v(" "),t.team.competition.isRegistrationOpen?n("v-expansion-panel",[n("v-expansion-panel-header",{staticClass:"primary white--text",attrs:{dark:""}},[n("b",[n("v-icon",{staticClass:"mr-4",attrs:{small:"",color:"white"}},[t._v("fa fa-plus")]),t._v("\n              Tambahkan Anggota\n            ")],1)]),t._v(" "),n("v-expansion-panel-content",[t.error?n("Alert",{staticClass:"mt-4",attrs:{type:"error",message:t.error}}):t._e(),t._v(" "),n("form",{staticClass:"mt-6",on:{submit:function(e){return e.preventDefault(),t.attemptCreateMember(e)}}},[n("v-text-field",{attrs:{outlined:"",dense:"",label:"Nama"},model:{value:t.fullName,callback:function(e){t.fullName=e},expression:"fullName"}}),t._v(" "),n("v-text-field",{attrs:{outlined:"",dense:"",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("v-btn",{staticClass:"text-none font-weight-bold",attrs:{color:"primary",outlined:"",type:"submit",loading:t.isCreating}},[t._v("\n                Tambah Anggota\n              ")])],1)],1)],1):t._e()],2)],1)],1)]):t._e()}),[],!1,null,"c079d29c",null),I=component.exports;k()(component,{VAlert:R.a,VBtn:D.a,VCol:A.a,VExpansionPanel:M.a,VExpansionPanelContent:V.a,VExpansionPanelHeader:w.a,VExpansionPanels:P.a,VIcon:S.a,VTextField:E.a});var L=n(486),N=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},$=function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(o.a)(e,[{key:"head",value:function(){return{title:"Dashboard"}}},{key:"layout",value:function(){return"dashboard"}},{key:"slug",get:function(){return this.$route.params.competition}}]),e}(f.Vue),F=$=N([Object(f.Component)({components:{CompetitionWrapper:L.a,DashboardWrapper:v.a,TabMenu:h.a,AnggotaTim:I}})],$),W=Object(x.a)(F,(function(){var t=this.$createElement,e=this._self._c||t;return e("DashboardWrapper",[e("CompetitionWrapper",{attrs:{"competition-slug":this.slug},scopedSlots:this._u([{key:"default",fn:function(t){var n=t.team;return[e("AnggotaTim",{attrs:{team:n}})]}}])})],1)}),[],!1,null,"52675d33",null);e.default=W.exports}}]);