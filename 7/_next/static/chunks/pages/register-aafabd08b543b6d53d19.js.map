{"version":3,"sources":["webpack://_N_E/./pages/register.tsx","webpack://_N_E/./components/auth/InputField.tsx","webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?bdc2"],"names":["RegisterPage","apiContext","useContext","ApiContext","useState","name","setName","email","setEmail","password","setPassword","loading","setLoading","error","setError","success","setSuccess","title","href","text","padding","onSubmit","evt","preventDefault","length","register","axios","then","e","ApiError","code","RegisterStatus","EMAIL_USED","value","setValue","placeholder","type","submit","style","textAlign","InputField","id","toLowerCase","replace","htmlFor","onChange","target","window","__NEXT_P","push"],"mappings":"ySA8IeA,UAnIgB,WAC7B,IAAMC,EAAaC,qBAAWC,KADK,EAGXC,mBAAS,IAA1BC,EAH4B,KAGtBC,EAHsB,OAITF,mBAAS,IAA5BG,EAJ4B,KAIrBC,EAJqB,OAKHJ,mBAAS,IAAlCK,EAL4B,KAKlBC,EALkB,OAOLN,oBAAS,GAAhCO,EAP4B,KAOnBC,EAPmB,OAQTR,mBAAwB,MAA3CS,EAR4B,KAQrBC,EARqB,OASLV,oBAAS,GAAhCW,EAT4B,KASnBC,EATmB,KAoDnC,OACE,EAAC,IAAD,CAAaC,MAAM,mBAChBF,EACC,oBACE,qCACA,+GAIA,EAAC,IAAD,CAAMG,KAAK,UACT,EAAC,IAAD,CAAcC,KAAK,QAAQC,QAAQ,mBAIvC,oBACE,EAAC,IAAD,CAAOP,MAAOA,IACd,UACEQ,SAAU,SAACC,GACTA,EAAIC,iBA1DdT,EAAS,MAEI,KAATT,EAKU,KAAVE,EAKa,KAAbE,EAKAA,EAASe,OAAS,EACpBV,EAAS,yCAIXF,GAAW,GAEXa,YAASxB,EAAWyB,MAAOrB,EAAME,EAAOE,GACrCkB,MAAK,WACJX,GAAW,MAFf,OAIS,SAACY,GACFA,aAAaC,KAAYD,EAAEE,OAASC,IAAeC,WACrDlB,EAAS,yBAGXA,EAASc,MATb,SAWW,WACPhB,GAAW,OAvBbE,EAAS,+BALTA,EAAS,4BALTA,EAAS,4BAqDL,4BAME,EAAC,IAAD,CACET,KAAK,eACL4B,MAAO5B,EACP6B,SAAU5B,EACV6B,YAAY,aAEd,EAAC,IAAD,CACE9B,KAAK,eACL4B,MAAO1B,EACP2B,SAAU1B,EACV2B,YAAY,aAEd,EAAC,IAAD,CACEC,KAAM,WACN/B,KAAK,aACL4B,MAAOxB,EACPyB,SAAUxB,EACVyB,YAAY,aAEd,qCACA,yCACE,2CACE,EAAC,IAAD,CACEhB,KAAK,SACLC,QAAQ,eACRT,QAASA,EACT0B,QAAM,KAGV,SAAuBC,MAAO,CAAEC,UAAW,SAA3C,kCACE,OAAGrB,KAAK,SAAR,4BACE,8DApDd,sQ,gGCPWsB,IAjDqB,SAAC,GAA0D,IAAxDnC,EAAwD,EAAxDA,KAAwD,IAAlD+B,YAAkD,MAA3C,OAA2C,EAAnCH,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YAErEM,EAAKpC,EAAKqC,cAAcC,QAAQ,MAAO,IAE7C,OACE,qCACE,WAAOC,QAASH,EAAhB,4BAAqBpC,GACrB,WAAOoC,GAAIA,EAAIL,KAAMA,EAAMH,MAAOA,EAAOY,SAAU,SAACvB,GAAUY,EAASZ,EAAIwB,OAAOb,QAAWE,YAAaA,EAA1G,6BAFF,i3B,sBCZCY,OAAOC,SAAWD,OAAOC,UAAY,IAAIC,KAAK,CAC7C,YACA,WACE,OAAO,EAAQ,a","file":"static/chunks/pages/register-aafabd08b543b6d53d19.js","sourcesContent":["import Link from \"next/link\";\nimport { useContext, useState } from \"react\";\nimport Alert from \"../components/Alert\";\nimport AuthWrapper from \"../components/auth/AuthWrapper\";\nimport InputField from \"../components/auth/InputField\";\nimport FilledButton from \"../components/FilledButton\";\nimport { RegisterStatus } from \"../interfaces/auth\";\nimport { ApiContext } from \"../utils/context/api\";\nimport { ApiError } from \"interfaces/api\";\nimport { register } from \"api/auth\";\n\nconst RegisterPage: React.FC = () => {\n  const apiContext = useContext(ApiContext);\n\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n\n  const handleSubmit = () => {\n    setError(null);\n\n    if (name === \"\") {\n      setError(\"Nama tidak boleh kosong\");\n      return;\n    }\n\n    if (email === \"\") {\n      setError(\"Email tidak boleh kosong\");\n      return;\n    }\n\n    if (password === \"\") {\n      setError(\"Password tidak boleh kosong\");\n      return;\n    }\n\n    if (password.length < 8) {\n      setError(\"Password harus lebih dari 8 karakter\");\n      return;\n    }\n\n    setLoading(true);\n\n    register(apiContext.axios, name, email, password)\n      .then(() => {\n        setSuccess(true);\n      })\n      .catch((e) => {\n        if (e instanceof ApiError && e.code === RegisterStatus.EMAIL_USED) {\n          setError(\"Email sudah digunakan\");\n          return;\n        }\n        setError(e);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  return (\n    <AuthWrapper title=\"Registrasi Akun\">\n      {success ? (\n        <>\n          <br />\n          <p>\n            Terima kasih telah mendaftar, silahkan cek email untuk tautan\n            konfirmasi\n          </p>\n          <Link href=\"/login\">\n            <FilledButton text=\"LOGIN\" padding=\"0.75em 1.5em\" />\n          </Link>\n        </>\n      ) : (\n        <>\n          <Alert error={error} />\n          <form\n            onSubmit={(evt) => {\n              evt.preventDefault();\n              handleSubmit();\n            }}\n          >\n            <InputField\n              name=\"Nama Lengkap\"\n              value={name}\n              setValue={setName}\n              placeholder=\"John Doe\"\n            />\n            <InputField\n              name=\"Alamat Email\"\n              value={email}\n              setValue={setEmail}\n              placeholder=\"John Doe\"\n            />\n            <InputField\n              type={\"password\"}\n              name=\"Kata Sandi\"\n              value={password}\n              setValue={setPassword}\n              placeholder=\"********\"\n            />\n            <br />\n            <div className=\"row\">\n              <div className=\"col-6\">\n                <FilledButton\n                  text=\"DAFTAR\"\n                  padding=\"0.75em 1.5em\"\n                  loading={loading}\n                  submit\n                />\n              </div>\n              <div className=\"col-6\" style={{ textAlign: \"right\" }}>\n                <a href=\"/login\">\n                  <b>Sudah punya akun ?</b>\n                </a>\n              </div>\n            </div>\n          </form>\n        </>\n      )}\n      <style jsx>{`\n        .row {\n          align-items: center;\n        }\n        form {\n          margin-bottom: 3.5rem;\n        }\n        a {\n          color: #7446a1;\n        }\n\n        p {\n          color: #7446a1;\n        }\n      `}</style>\n    </AuthWrapper>\n  );\n};\n\nexport default RegisterPage;\n","interface Props {\n  name: string,\n  type?: string,\n  value: string,\n  setValue: (newValue: string) => void,\n  placeholder: string\n}\n\nconst InputField: React.FC<Props> = ({ name, type = \"text\", value, setValue, placeholder }) => {\n\n  const id = name.toLowerCase().replace(/\\s/g, \"\");\n\n  return (\n    <div>\n      <label htmlFor={id}>{name}</label>\n      <input id={id} type={type} value={value} onChange={(evt) => { setValue(evt.target.value); }} placeholder={placeholder} />\n      <style jsx>{`\n        label {\n          font-style: normal;\n          font-weight: bold;\n          font-size: 1.4rem;\n          line-height: 1.2rem;\n          display: block;\n          color: #000000;\n          margin-top: 0.8rem;\n        }\n\n        input {\n          width: 100%;\n          border: none;\n          padding: 0.5rem 0 0.5rem 0;\n          border-bottom: 0.15rem solid black;\n          box-sizing: border-box;\n          background: none;\n          margin: 0.5rem 0 1rem 0;\n        }\n\n        input[type=\"text\"], input[type=\"password\"] {\n          font-size: 1.2rem;\n          font-style: normal;\n          font-weight: bold;\n        }\n\n        input:focus {\n          outline: none;\n        }\n\n        ::placeholder {\n          font-style: normal;\n          font-weight: bold;\n          font-size: 1.2rem;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default InputField;","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/register\",\n      function () {\n        return require(\"private-next-pages/register.tsx\");\n      }\n    ]);\n  "],"sourceRoot":""}